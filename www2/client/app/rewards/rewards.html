<div ng-include="'components/navbar/navbar.html'"></div>

<div class="container rewards">
<div class="record">
    <div class="col-md-12">
        <div class="panel panel-default challenge-types">
            <div class="panel-heading">
                <h3 class="panel-title">
                    Rewards
                </h3>
            </div>
            <div class="panel-body rewards-container">
                <div class="rewards-list">
                    <div class="reward" 
                    ng-repeat="challenge in challenges">
                        <div class="name with-popover"
                            ng-click="fillDesc(challenge.progress+' '+challenge.unit)"
                            uib-popover-template="popup.templateUrl" 
                            popover-title=""
                            popover-enable="rewardsPopupActive">
                            <div class="circle">
                                <label class="noselect">{{challenge.name}}</label>
                                <i class="fa {{challenge.icon}} hidden-xs" aria-hidden="true"></i>
                                <small class="noselect hidden-sm hidden-md hidden-lg">L {{challenge.level}}</small>
                            </div>
                        </div>
                        <div class="bar-container hidden-xs">
                            <div class="heading">
                                <div class="left-side">
                                    {{challenge.desc}} ...
                                </div>
                                <div class="right-side">
                                    {{challenge.progress}} {{challenge.unit}}
                                </div>
                            </div>
                            <div class="shell">
                                <div class="level" ng-repeat="level in challenge.displayedLevels">
                                    <span class="caption" ng-class="{'active' : (challenge.level - 1) == level.level}" ng-if="!$last">
                                        LEVEL {{level.level + 1}}
                                    </span>
                                    <div class="bar" ng-repeat="bar in range(level.bars)">
                                        &nbsp;
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="other-info">
                    <div class="circle with-popover" 
                        ng-repeat="info in infos" 
                        ng-class="{'active': info.active}"
                        ng-click="fillDesc(info.desc)"
                        uib-popover-template="popup.templateUrl" 
                        popover-title=""
                        popover-enable="infoPopupActive">
                        <div class="circle-holder">
                            <label class="noselect">{{info.name}}</label>
                            <div class="noselect description">
                                {{info.desc}}
                            </div>
                            <i class="fa fa-star" aria-hidden="true"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<script type="text/ng-template" id="descriptionTemplate.html">
    <div class="description">
        {{itemDesc}}
    </div>
</script>

</div>