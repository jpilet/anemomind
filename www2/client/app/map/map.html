<div id="mapContainer">
<div class="titleBox">{{boat.name}}&nbsp;&nbsp;<a href="javascript:history.back()">&#10006;</a></div>
<vectormap></vectormap>

<div class="animationControls">
  <div ng-hide="isPlaying" ng-click="togglePlayPause()">&#9658; play</div>
  <div ng-show="isPlaying" ng-click="togglePlayPause()">&#10073;&#10073; pause</div>
</div>

<select id="dataSourceSelector" ng-model="plotField" ng-options="field as label for (field, label) in plotFieldLabels"></select>

<div id="panel">

    <wheel-indicator id="topwheel" label="'Degree'" arrow="currentPoint.externalTwa" north="currentPoint.gpsBearing" description="'True wind direction'"></wheel-indicator>

    <gauge-indicator id="gaugetws" label="'%'" value="currentPoint.devicePerf" description="'Performance'" min="0" max="200" ></gauge-indicator>

    <gauge-indicator id="gaugesog" label="'%'" value="currentPoint.devicePerf" description="'Performance'" min="0" max="200" ></gauge-indicator>

    <gauge-indicator id="gaugetws2" label="'%'" value="currentPoint.devicePerf" description="'Performance'" min="0" max="200" ></gauge-indicator>

    <wheel-small-indicator id="smallwheeltwa" label="'Degree'" arrow="currentPoint.externalTwa" boat="currentPoint.externalTwa" north="currentPoint.gpsBearing" description="'Wind direction'"></wheel-small-indicator>

    <wheel-small-indicator id="smallwheelcog" label="'Degree'" arrow="currentPoint.externalTwa" boat="currentPoint.externalTwa" north="currentPoint.gpsBearing" description="'Wind direction'"></wheel-small-indicator>

    <!-- The heeling value is an approximation -->

    <heeling-indicator id="heeling" label="'Degree'" value="(currentPoint.awa > 0 ? 1 : - 1) * (currentPoint.aws / 30) * 45 * (currentPoint.twa < 90 && currentPoint.twa > -90 ? 1 : .5)" description="'Heeling angle'"></heeling-indicator>

    <gauge-indicator id="gaugeperf" label="'%'" value="currentPoint.devicePerf" description="'Performance'" min="0" max="200" ></gauge-indicator>

    <arrow-indicator id="windarrow" label="'Degree'" value="currentPoint.deviceTwdir" description="'True wind angle'" to="1" ></arrow-indicator>


</div>

<perfplot plot-data="plotData" current-time="currentTime" field="plotField"></perfplot>
</div>


