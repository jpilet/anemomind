<div id="mapContainer">
  <div class="titleBox">{{boat.name}}&nbsp;&nbsp;<a href="javascript:history.back()">&#10006;</a></div>
  <vectormap></vectormap>

  <div class="animationControls">
    <div ng-hide="isPlaying" ng-click="togglePlayPause()">&#9658; play</div>
    <div ng-show="isPlaying" ng-click="togglePlayPause()">&#10073;&#10073; pause</div>
  </div>

  <select id="dataSourceSelector" ng-model="plotField" ng-options="field as label for (field, label) in plotFieldLabels"></select>

  <div id="tabs">
    <tabset>
      <tab heading="Perf">
	<gauge-indicator id="gaugetws" label="vmgPerf + '%'" value="vmgPerf" description="'VMG Performance'" min="0" max="200" ></gauge-indicator>
      </tab>
      <tab heading="Wind">
	<wheel-indicator id="topwheel" label="'Degree'" arrow="twa | angle:180" north="-gpsBearing" description="''"></wheel-indicator>
	<wheel-small-indicator id="smallwheelcog" label="'&deg;'" arrow="twdir | angle:360" boat="gpsBearing" north="0" description="'True Wind Direction'"></wheel-small-indicator>
      </tab>
      <tab heading="Speed">
        <gauge-indicator
          id="gaugeperf"
          label="gpsSpeed | speed"
          value="gpsSpeed"
          description="'Speed over ground'" min="0" max="12" ></gauge-indicator>
      </tab>
      <tab heading="Raw">
        <div class="instrumentsView">
          <table class="table table-bordered table-condensed">
            <tr data-ng-hide='vmgPerf == undefined'><td>VMG Perf</td><td>{{ vmgPerf }}%</td></tr>
            <tr data-ng-hide='twa == undefined'><td>TWA</td><td>{{ twa | angle:180 }}</td></tr>
            <tr data-ng-hide='tws == undefined'><td>TWS</td><td>{{ tws | speed }}</td></tr>
            <tr><td>GPS speed</td><td>{{ gpsSpeed | speed }}</td></tr>
            <tr><td></td><td></td></tr>
            <tr data-ng-hide='twdir == undefined'><td>TWDIR</td><td>{{ twdir | angle:360 }}</td></tr>
            <tr><td>GPS bearing</td><td>{{ gpsBearing | angle:360 }}</td></tr>
            <tr><td></td><td></td></tr>
            <tr><td>Date</td><td>{{ currentTime | date: 'shortDate' }}</td></tr>
            <tr><td>Time</td><td>{{ currentTime | date: 'HH:mm:ss' }}</td></tr>
          </table>
        </div>
      </tab>
    </tabset>

  </div>
  <perfplot plot-data="plotData" current-time="currentTime" field="plotField"></perfplot>
</div>


